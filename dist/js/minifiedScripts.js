let pokemonRepository=function(){let e=[];function t(){return e}function n(){let e=document.querySelector(".loading-message");e&&e.remove()}function o(t){if("object"==typeof t&&"name"in t)return e.push(t)}function i(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types}).catch(function(e){console.error(e)})}return{getAll:t,add:o,addListItem:function e(t){let o=t.name.toUpperCase();t.height;let l=document.createElement("li");l.classList.add("list-group-item","bg-warning");let r=document.querySelector(".pokemon-list"),a=document.createElement("button");a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#exampleModal"),a.innerText=o,a.classList.add("pokemon-label","btn"),r.appendChild(l),l.appendChild(a),a.addEventListener("click",()=>(function e(t){i(t).then(function(){n(),console.log(t),showModal(t)})})(t))},loadList:function e(){let t;return(t=document.createElement("h1")).classList.add("loading-message"),t.innerHTML="Loading...",(body=document.querySelector("body")).appendChild(t),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){let t={name:e.name,detailsUrl:e.url};n(),o(t)})}).catch(function(e){n(),console.error(e)})},loadDetails:i}}();function showModal(e){let t=document.querySelector(".modal-body"),n=document.querySelector(".modal-title");document.querySelector(".modal-header"),n.innerHTML="",t.innerHTML="";let o=document.createElement("h3");o.textContent=e.name;let i=document.createElement("img");i.setAttribute("class","modal-img"),i.setAttribute("style","width:50%"),i.setAttribute("src",e.imageUrl);let l=document.createElement("p");l.textContent="height: "+e.height;let r=document.createElement("p");r.textContent="types: "+e.types.map(e=>e.type.name).join(", "),n.appendChild(o),t.appendChild(i),t.appendChild(l),t.appendChild(r)}pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})}).then(function(){console.log(pokemonRepository.getAll())});
let e=function(){let t=[],n="https://pokeapi.co/api/v2/pokemon/?limit=150",i=document.querySelector("#search-input");function o(){let e=document.querySelector(".loading-message");e&&e.remove()}function l(e){let t=e.detailsUrl;return fetch(t).then((function(e){return e.json()})).then((function(t){return console.log(t),e.imageUrl=t.sprites.front_default,e.imageBackUrl=t.sprites.back_default,e.height=t.height,e.types=t.types,e.abilities=t.abilities,e.experience=t.base_experience,e.experience=t.base_experience,e})).catch((function(e){console.error(e)}))}return i.addEventListener("input",(function(){e.filterSearch(i)})),{getAll:function(){return t},add:function(e){if("object"==typeof e&&"name"in e)return t.push(e)},addListItem:function(e){l(e).then((function(){let t=e.name.toUpperCase(),n=(e.height,document.createElement("li"));n.classList.add("card");let i=document.querySelector(".pokemon-list"),o=document.createElement("img");o.setAttribute("src",e.imageUrl),o.classList.add("pokemon-image");let a=document.createElement("button");a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#exampleModal"),a.innerText=t,a.classList.add("pokemon-label","btn"),i.appendChild(n),n.appendChild(o),n.appendChild(a),a.addEventListener("click",(()=>function(e){l(e).then((function(){!function(e){let t=document.querySelector(".modal-body"),n=document.querySelector(".modal-title");document.querySelector(".modal-header");n.innerHTML="",t.innerHTML="";let i=document.createElement("h3");i.textContent=e.name.toUpperCase();let o=document.createElement("img");o.setAttribute("class","modal-img"),o.setAttribute("style","width:50%"),o.setAttribute("src",e.imageUrl);let l=document.createElement("img");l.setAttribute("class","modal-img"),l.setAttribute("style","width:50%"),l.setAttribute("src",e.imageBackUrl);let a=document.createElement("h3");a.textContent="height: "+e.height;let r=document.createElement("h3");r.textContent="experience: "+e.experience;let c=document.createElement("h3");c.textContent="types: "+e.types.map((e=>e.type.name)).join(", ");let d=document.createElement("h3");d.textContent="abilities: "+e.abilities.map((e=>e.ability.name)).join(", "),n.appendChild(i),t.appendChild(o),t.appendChild(l),t.appendChild(r),t.appendChild(a),t.appendChild(c),t.appendChild(d)}(e)}))}(e)))}))},loadList:function(){return function(){let e=document.createElement("h1");e.classList.add("loading-message"),e.innerHTML="Loading...",body=document.querySelector("body"),body.appendChild(e)}(),fetch(n).then((function(e){return e.json()})).then((function(e){let t=e.results.map((function(e){return l({name:e.name,detailsUrl:e.url})}));return Promise.all(t)})).then((function(t){console.log(t),o(),t.forEach((function(t){e.add(t),e.addListItem(t)}))})).catch((function(e){o(),console.error(e)}))},loadDetails:l,filterSearch:function(n){let i=n.value.toLowerCase(),o=t.filter((function(e){return e.name.toLowerCase().indexOf(i)>-1}));document.querySelector(".pokemon-list").innerHTML="",o.forEach((function(t){e.addListItem(t)}))}}}();e.loadList().then((function(){e.getAll().forEach((function(t){e.addListItem(t)}))})).then((function(){console.log(e.getAll())}));